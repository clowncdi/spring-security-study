<!DOCTYPE html>
<html
		lang="ko"
		xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
<!-- header -->
<head th:fragment="header">
	<meta charset="UTF-8">
	<title>스프링 시큐리티 학습용</title>
	<link rel="shortcut icon" type="image/x-icon" href="/images/spring-security.png">
	<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	>
	<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.0.6/css/all.css"
	>
	<link rel="stylesheet" type="text/css" href="css/signin.css">
	<style>
      .nav-username {
          border-radius: 5px;
          background: #0040a9;
          padding: 3px 8px;
		      margin-bottom: 0;
      }
	</style>
</head>
<body>
<!-- navigation bar -->
<div th:fragment="nav">
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
		<div class="container-fluid">
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<p
								class="nav-link active"
								th:classappend="${#authentication.authenticated == true} ? 'nav-username' : ''"
								sec:authorize="isAuthenticated()"
								sec:authentication="name">
						</p>
					</li>
					<li class="nav-item">
						<a class="nav-link active" th:href="@{/}">홈</a>
					</li>
					<li class="nav-item">
						<a
								class="nav-link active"
								sec:authorize="hasAnyRole('ROLE_ADMIN')"
								th:href="@{/admin}"
						>
							관리자 페이지
						</a>
					</li>
					<li class="nav-item">
						<a
								class="nav-link active"
								sec:authorize="isAuthenticated()"
								th:href="@{/notice}"
						>
							공지사항
						</a>
					</li>
					<li class="nav-item">
						<a
								class="nav-link active"
								sec:authorize="hasAnyRole('ROLE_USER')"
								th:href="@{/note}"
						>
							개인노트
						</a>
					</li>
					<li class="nav-item">
						<a
								class="nav-link active"
								sec:authorize="!isAuthenticated()"
								th:href="@{/login}"
						>
							로그인
						</a>
					</li>
					<li class="nav-item">
						<a
								class="nav-link active"
								sec:authorize="!isAuthenticated()"
								th:href="@{/signup}"
						>
							회원가입
						</a>
					</li>
					<li class="nav-item">
						<a
								class="nav-link active"
								sec:authorize="isAuthenticated()"
								th:href="@{/logout}"
						>
							로그아웃
						</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
</div>
</body>
</html>
